{"version":3,"sources":["services/persons.js","components/DisplayName.js","components/AddNameForm.js","components/FilterNames.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newPerson","post","id","delete","put","DisplayName","props","regex","RegExp","filter","person","name","match","number","onClick","window","confirm","services","setPersons","persons","AddNameForm","personExists","find","onSubmit","event","preventDefault","map","catch","error","setMessage","setTimeout","concat","setNewName","setNewNumber","value","onChange","target","type","FilterNames","newFilter","setNewFilter","Notification","message","className","App","useState","newName","newNumber","useEffect","service","initialPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0bd1a8d9.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst updateNumber = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, deletePerson, updateNumber };\n","import React from \"react\";\nimport services from \"/home/callum/Documents/FullStackOpen/Part2/phonebook/src/services/persons.js\";\n\nconst DisplayName = (props) => {\n  const regex = new RegExp(`${props.filter}`, \"i\");\n  const remove = () => {\n    if (window.confirm(\"Are you sure?\")) {\n      services.deletePerson(props.person.id).then((response) => {\n        props.setPersons(\n          props.persons.filter((person) => person.name !== props.person.name)\n        );\n      });\n    }\n  };\n\n  if (props.person.name.match(regex)) {\n    return (\n      <div>\n        {props.person.name} {props.person.number}\n        <button onClick={remove}>Delete</button>\n      </div>\n    );\n  } else {\n    return \"\";\n  }\n};\n\nexport default DisplayName;\n","import React from \"react\";\nimport services from \"/home/callum/Documents/FullStackOpen/Part2/phonebook/src/services/persons.js\";\n\nconst AddNameForm = (props) => {\n  const persons = props.persons;\n  const personExists = persons.find((person) => person.name === props.name);\n  const newPerson = { name: props.name, number: props.number };\n\n  const handleNumberChange = (event) => props.setNewNumber(event.target.value);\n  const handleNameChange = (event) => props.setNewName(event.target.value);\n\n  const replaceNumber = () => {\n    services\n      .updateNumber(personExists.id, newPerson)\n      .then(\n        props.setPersons(\n          persons.map((person) =>\n            person.name === props.name ? newPerson : person\n          )\n        )\n      )\n      .catch((error) => {\n        props.setMessage(`${newPerson.name} has already been deleted!`);\n        setTimeout(() => {\n          props.setMessage(null);\n        }, 5000);\n      });\n  };\n\n  const createPerson = () => {\n    services\n      .create(newPerson)\n      .then((response) => {\n        props.setPersons(persons.concat(newPerson));\n        props.setMessage(`Added ${newPerson.name}`);\n        setTimeout(() => {\n          props.setMessage(null);\n        }, 5000);\n        props.setNewName(\"\");\n        props.setNewNumber(\"\");\n      })\n      .catch((error) => {\n        props.setMessage(error.response.data.error);\n        setTimeout(() => {\n          props.setMessage(null);\n        }, 5000);\n      });\n  };\n\n  const addName = (event) => {\n    event.preventDefault();\n    if (personExists) {\n      if (window.confirm(\"Name already exists. Replace number?\")) {\n        replaceNumber();\n      }\n    } else {\n      createPerson();\n    }\n  };\n\n  return (\n    <form onSubmit={addName}>\n      <div>\n        <div>\n          name: <input value={props.name} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={props.number} onChange={handleNumberChange} />\n        </div>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default AddNameForm;\n","import React from \"react\";\n\nconst FilterNames = (props) => {\n  const handleFilterChange = (event) => props.setNewFilter(event.target.value);\n\n  return <input value={props.newFilter} onChange={handleFilterChange} />;\n};\n\nexport default FilterNames;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === \"\") {\n    return null;\n  }\n  return <div className=\"notification\">{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport DisplayName from \"./components/DisplayName\";\nimport AddNameForm from \"./components/AddNameForm\";\nimport FilterNames from \"./components/FilterNames\";\nimport Notification from \"./components/Notification\";\nimport axios from \"axios\";\nimport service from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    service.getAll().then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <div>\n        Filter:\n        <FilterNames newFilter={newFilter} setNewFilter={setNewFilter} />\n      </div>\n      <h2>Add New</h2>\n      <AddNameForm\n        name={newName}\n        number={newNumber}\n        persons={persons}\n        setMessage={setMessage}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        setPersons={setPersons}\n      />\n      <h2>Numbers</h2>\n      {persons.map((person) => (\n        <DisplayName\n          key={person.name}\n          person={person}\n          filter={newFilter}\n          persons={persons}\n          setPersons={setPersons}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}